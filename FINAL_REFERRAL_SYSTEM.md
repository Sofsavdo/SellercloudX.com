# ðŸ’° SELLERCLOUDX - YAKUNIY REFERRAL TIZIMI

**Versiya:** 7.0.0 (FINAL)  
**Sana:** 2025-12-13  
**Model:** Bir Martalik Bonus + Obuna Chegirmalari

---

## ðŸŽ¯ ASOSIY QOIDALAR

### 1. Referral Huquqi

**Taklif qilish uchun shart:**
- âœ… Kamida 3 oylik obuna sotib olgan bo'lishi kerak
- âœ… Obuna faol bo'lishi kerak
- âŒ 1 oylik obuna bilan referral qila olmaydi

### 2. Bonus Turi

**Bir Martalik Bonus:**
- âœ… Faqat birinchi to'lovdan keyin
- âœ… Bir marta to'lanadi
- âŒ Oylik recurring bonus yo'q
- âŒ Tier tizimi yo'q

### 3. Chegirmalar

**Referred (Yangi Hamkor):**
- âœ… Faqat obuna chegirmasini oladi
- âŒ Qo'shimcha 5% chegirma YO'Q
- âœ… Oddiy va tushunarli

---

## ðŸ’Ž YAKUNIY BONUS STRUKTURASI

### Bonus Jadval

| Taklif Qilingan Obuna | Referred Chegirma | Referrer Bonus |
|------------------------|-------------------|----------------|
| **1 Oy** | 0% | 3% |
| **3 Oy** | 10% | 5% |
| **6 Oy** | 20% | 8% |
| **12 Oy** | 30% | 10% |

### Tushuntirish

**Referred (Yangi Hamkor):**
- 1 oy: 0% chegirma (to'liq narx)
- 3 oy: 10% chegirma (obuna chegirmasi)
- 6 oy: 20% chegirma (obuna chegirmasi)
- 12 oy: 30% chegirma (obuna chegirmasi)

**Referrer (Taklif Etuvchi):**
- 1 oy: 3% bonus (bir marta)
- 3 oy: 5% bonus (bir marta)
- 6 oy: 8% bonus (bir marta)
- 12 oy: 10% bonus (bir marta)

---

## ðŸ“Š BONUS MIQDORLARI (So'mda)

### Starter Pro (3M/oy)

| Obuna | Base Narx | Referred Chegirma | Referred To'laydi | Referrer Bonus |
|-------|-----------|-------------------|-------------------|----------------|
| 1 oy | 3,000,000 | 0% | 3,000,000 | 90,000 (3%) |
| 3 oy | 9,000,000 | 10% | 8,100,000 | 405,000 (5%) |
| 6 oy | 18,000,000 | 20% | 14,400,000 | 1,152,000 (8%) |
| 12 oy | 36,000,000 | 30% | 25,200,000 | 2,520,000 (10%) |

### Business Standard (8M/oy)

| Obuna | Base Narx | Referred Chegirma | Referred To'laydi | Referrer Bonus |
|-------|-----------|-------------------|-------------------|----------------|
| 1 oy | 8,000,000 | 0% | 8,000,000 | 240,000 (3%) |
| 3 oy | 24,000,000 | 10% | 21,600,000 | 1,080,000 (5%) |
| 6 oy | 48,000,000 | 20% | 38,400,000 | 3,072,000 (8%) |
| 12 oy | 96,000,000 | 30% | 67,200,000 | 6,720,000 (10%) |

### Professional Plus (18M/oy)

| Obuna | Base Narx | Referred Chegirma | Referred To'laydi | Referrer Bonus |
|-------|-----------|-------------------|-------------------|----------------|
| 1 oy | 18,000,000 | 0% | 18,000,000 | 540,000 (3%) |
| 3 oy | 54,000,000 | 10% | 48,600,000 | 2,430,000 (5%) |
| 6 oy | 108,000,000 | 20% | 86,400,000 | 6,912,000 (8%) |
| 12 oy | 216,000,000 | 30% | 151,200,000 | 15,120,000 (10%) |

### Enterprise Elite (25M/oy)

| Obuna | Base Narx | Referred Chegirma | Referred To'laydi | Referrer Bonus |
|-------|-----------|-------------------|-------------------|----------------|
| 1 oy | 25,000,000 | 0% | 25,000,000 | 750,000 (3%) |
| 3 oy | 75,000,000 | 10% | 67,500,000 | 3,375,000 (5%) |
| 6 oy | 150,000,000 | 20% | 120,000,000 | 9,600,000 (8%) |
| 12 oy | 300,000,000 | 30% | 210,000,000 | 21,000,000 (10%) |

---

## ðŸ’¡ REAL MISOLLAR

### Misol 1: 3 Oylik Business Standard

**Vaziyat:**
- Aziz aka 3 oylik Business Standard sotib olgan
- Do'stini taklif qildi
- Do'sti ham 3 oylik Business Standard oldi

**Hisoblash:**
```
Do'st to'lovi:
Base: 8,000,000 Ã— 3 = 24,000,000
Obuna chegirma (10%): -2,400,000
JAMI: 21,600,000 so'm

Aziz aka bonusi:
21,600,000 Ã— 5% = 1,080,000 so'm (bir marta)
```

**Natija:**
- Do'st tejaydi: 2,400,000 so'm (10%)
- Aziz aka oladi: 1,080,000 so'm (bir marta)

### Misol 2: 6 Oylik Professional Plus

**Vaziyat:**
- Nodira opa 6 oylik Professional Plus sotib olgan
- Yangi hamkorni taklif qildi
- Hamkor 6 oylik Professional Plus oldi

**Hisoblash:**
```
Hamkor to'lovi:
Base: 18,000,000 Ã— 6 = 108,000,000
Obuna chegirma (20%): -21,600,000
JAMI: 86,400,000 so'm

Nodira opa bonusi:
86,400,000 Ã— 8% = 6,912,000 so'm (bir marta)
```

**Natija:**
- Hamkor tejaydi: 21,600,000 so'm (20%)
- Nodira opa oladi: 6,912,000 so'm (bir marta)

### Misol 3: 12 Oylik Enterprise Elite

**Vaziyat:**
- Jahongir aka 12 oylik Enterprise Elite sotib olgan
- Katta kompaniyani taklif qildi
- Kompaniya 12 oylik Enterprise Elite oldi

**Hisoblash:**
```
Kompaniya to'lovi:
Base: 25,000,000 Ã— 12 = 300,000,000
Obuna chegirma (30%): -90,000,000
JAMI: 210,000,000 so'm

Jahongir aka bonusi:
210,000,000 Ã— 10% = 21,000,000 so'm (bir marta)
```

**Natija:**
- Kompaniya tejaydi: 90,000,000 so'm (30%)
- Jahongir aka oladi: 21,000,000 so'm (bir marta)

---

## ðŸ“ˆ MOLIYAVIY TAHLIL

### Scenario 1: 100 Hamkor, 3 Referral/Yil

**Assumptions:**
- 100 hamkor (barcha 3+ oylik obuna)
- Har biri yiliga 3 ta referral
- 50% â†’ 3 oylik
- 30% â†’ 6 oylik
- 20% â†’ 12 oylik
- O'rtacha: Business Standard

**Yillik Hisoblash:**
```
Jami referrallar: 100 Ã— 3 = 300

3 oylik (150 ta):
Bonus: 150 Ã— 2,160,000 = 324,000,000

6 oylik (90 ta):
Bonus: 90 Ã— 5,760,000 = 518,400,000

12 oylik (60 ta):
Bonus: 60 Ã— 16,800,000 = 1,008,000,000

JAMI XARAJAT: 1,850,400,000 so'm/yil
```

**Daromad:**
```
3 oylik: 150 Ã— 21,600,000 = 3,240,000,000
6 oylik: 90 Ã— 38,400,000 = 3,456,000,000
12 oylik: 60 Ã— 67,200,000 = 4,032,000,000

JAMI DAROMAD: 10,728,000,000 so'm/yil
```

**Net Profit:**
```
Daromad: 10,728,000,000
Referral xarajat: 1,850,400,000
Net: 8,877,600,000 so'm (83% margin)
```

### Scenario 2: 500 Hamkor, 5 Referral/Yil

**Assumptions:**
- 500 hamkor
- Har biri yiliga 5 ta referral
- O'rtacha: Professional Plus

**Yillik Hisoblash:**
```
Jami referrallar: 500 Ã— 5 = 2,500

3 oylik (1,250 ta):
Bonus: 1,250 Ã— 4,860,000 = 6,075,000,000

6 oylik (750 ta):
Bonus: 750 Ã— 12,960,000 = 9,720,000,000

12 oylik (500 ta):
Bonus: 500 Ã— 37,800,000 = 18,900,000,000

JAMI XARAJAT: 34,695,000,000 so'm/yil
```

**Daromad:**
```
3 oylik: 1,250 Ã— 48,600,000 = 60,750,000,000
6 oylik: 750 Ã— 86,400,000 = 64,800,000,000
12 oylik: 500 Ã— 151,200,000 = 75,600,000,000

JAMI DAROMAD: 201,150,000,000 so'm/yil
```

**Net Profit:**
```
Daromad: 201,150,000,000
Referral xarajat: 34,695,000,000
Net: 166,455,000,000 so'm (83% margin)
```

---

## ðŸ“Š TAQQOSLASH

### Variant 1: Eski (Tier + Recurring)

**Xarajat:**
```
Yillik: 19,440,000,000 so'm
Margin: 15%
```

### Variant 2: Soddalashtirilgan (5-10%)

**Xarajat:**
```
Yillik: 841,680,000 so'm
Margin: 92%
```

### Variant 3: YAKUNIY (10-25%)

**Xarajat:**
```
Yillik: 1,850,400,000 so'm
Margin: 83%
```

### Taqqoslash

| Variant | Yillik Xarajat | Margin | Motivatsiya |
|---------|----------------|--------|-------------|
| Eski | 19.4B | 15% | â­â­â­â­â­ |
| Sodda | 841M | 92% | â­â­ |
| **YAKUNIY** | **1.85B** | **83%** | **â­â­â­â­** |

**Verdict:** Yakuniy variant - optimal balans!

---

## âœ… AFZALLIKLAR

### Platform Uchun

1. **83% Profit Margin**
   - Barqaror biznes model
   - Sustainable growth
   - Predictable costs

2. **90% Kam Xarajat** (vs Eski)
   - Eski: 19.4B
   - Yangi: 1.85B
   - Tejash: 17.55B (90%)

3. **Oddiy Boshqarish**
   - Bir martalik to'lov
   - Tier yo'q
   - Qo'shimcha chegirma yo'q

4. **Yaxshi Motivatsiya**
   - 10-25% bonus
   - Katta obuna = katta bonus
   - Fair system

### Hamkorlar Uchun

1. **Tushunarli**
   - Oddiy struktura
   - Faqat obuna chegirmasi
   - Aniq miqdorlar

2. **Adolatli**
   - Uzoq obuna = katta bonus
   - Barcha uchun bir xil
   - Shaffof tizim

3. **Yaxshi Motivatsiya**
   - 25% bonus (12 oy)
   - Katta miqdorlar
   - Qo'shimcha daromad

### Referred (Yangi Hamkor) Uchun

1. **Oddiy**
   - Faqat obuna chegirmasi
   - Qo'shimcha hisob-kitob yo'q
   - Tushunarli

2. **Yetarli Chegirma**
   - 10-30% tejash
   - Standart chegirmalar
   - Fair narx

---

## ðŸŽ¯ YAKUNIY QOIDALAR

### 1. Referral Huquqi

```
âœ… 3 oylik obuna â†’ Referral mumkin
âœ… 6 oylik obuna â†’ Referral mumkin
âœ… 12 oylik obuna â†’ Referral mumkin
âŒ 1 oylik obuna â†’ Referral mumkin emas
```

### 2. Referrer Bonus

```
âœ… 1 oy taklif â†’ 3% bonus (bir marta)
âœ… 3 oy taklif â†’ 5% bonus (bir marta)
âœ… 6 oy taklif â†’ 8% bonus (bir marta)
âœ… 12 oy taklif â†’ 10% bonus (bir marta)
```

### 3. Referred Chegirma

```
âŒ 1 oy â†’ 0% (to'liq narx)
âœ… 3 oy â†’ 10% (obuna chegirmasi)
âœ… 6 oy â†’ 20% (obuna chegirmasi)
âœ… 12 oy â†’ 30% (obuna chegirmasi)
```

**Eslatma:** Bu standart obuna chegirmalari, barcha hamkorlar uchun.

### 4. To'lov

```
âœ… Bir martalik bonus
âœ… Taklif qilingan hamkor to'lovdan keyin
âœ… 24-48 soat ichida pending
âœ… Minimum yechish: 1,000,000 so'm
```

---

## ðŸ’³ YECHISH QOIDALARI

### Minimum

**1,000,000 so'm** ($80)

### To'lov Usullari

1. **Uzcard/Humo** (Tavsiya etiladi)
   - Fee: 0%
   - Processing: 1 kun

2. **Bank Transfer**
   - Fee: 1%
   - Processing: 1-3 kun

3. **PayPal**
   - Fee: 3%
   - Processing: 3-5 kun

4. **Crypto (USDT)**
   - Fee: 1%
   - Processing: 1 soat

### Yechish Jadvali

**Avtomatik:** Har oyning 1-sanasida (agar minimum yetgan bo'lsa)
**Qo'lda:** Istalgan vaqt (minimum yetganda)

---

## ðŸ“± FRONTEND UI

### Referral Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Referral Dasturim                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: âœ… Faol (6 oylik obuna)    â”‚
â”‚                                     â”‚
â”‚ Promo Kod: SCX-ABC123              â”‚
â”‚ [Nusxalash] [Ulashish]             â”‚
â”‚                                     â”‚
â”‚ Statistika:                         â”‚
â”‚ â€¢ Jami taklif: 12                  â”‚
â”‚ â€¢ Faol: 10                         â”‚
â”‚ â€¢ Jami bonus: 28,800,000 so'm      â”‚
â”‚ â€¢ Mavjud: 3,500,000 so'm           â”‚
â”‚                                     â”‚
â”‚ [Pul Yechish]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Bonus Calculator

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bonus Kalkulyator                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tarif: [Business Standard â–¼]       â”‚
â”‚ Muddat: [6 oy â–¼]                   â”‚
â”‚                                     â”‚
â”‚ Sizning bonusingiz:                 â”‚
â”‚ 5,760,000 so'm (15%)                â”‚
â”‚                                     â”‚
â”‚ Do'stingiz tejaydi:                 â”‚
â”‚ 9,600,000 so'm (20%)                â”‚
â”‚                                     â”‚
â”‚ Do'stingiz to'laydi:                â”‚
â”‚ 38,400,000 so'm                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”§ IMPLEMENTATION

### Database Schema

```sql
-- Partner subscription tracking
CREATE TABLE partner_subscriptions (
  id TEXT PRIMARY KEY,
  partner_id TEXT NOT NULL,
  tier TEXT NOT NULL,
  duration INTEGER NOT NULL, -- 1, 3, 6, 12
  amount_paid REAL NOT NULL,
  start_date TIMESTAMP,
  end_date TIMESTAMP,
  status TEXT DEFAULT 'active',
  can_refer BOOLEAN DEFAULT false -- true if duration >= 3
);

-- Referral bonuses (one-time only)
CREATE TABLE referral_bonuses (
  id TEXT PRIMARY KEY,
  referrer_id TEXT NOT NULL,
  referred_id TEXT NOT NULL,
  subscription_id TEXT NOT NULL,
  subscription_amount REAL NOT NULL,
  bonus_percent REAL NOT NULL, -- 10, 15, or 25
  bonus_amount REAL NOT NULL,
  status TEXT DEFAULT 'pending',
  paid_at TIMESTAMP,
  created_at TIMESTAMP
);
```

### API Endpoints

```typescript
// Check if partner can refer
GET /api/referrals/can-refer
Response: { 
  canRefer: boolean, 
  reason: string,
  currentSubscription: object 
}

// Calculate bonus
POST /api/referrals/calculate-bonus
Body: { tier: string, duration: number }
Response: { 
  referrerBonus: number,
  referrerBonusPercent: number,
  referredDiscount: number,
  referredDiscountPercent: number,
  referredFinalPrice: number
}

// Generate promo code
POST /api/referrals/generate-code
Response: { 
  promoCode: string, 
  shareUrl: string,
  socialLinks: object
}

// Validate promo code
GET /api/referrals/validate/:code
Response: { 
  valid: boolean, 
  referrer: object,
  message: string
}

// Get my earnings
GET /api/referrals/my-earnings
Response: {
  totalEarned: number,
  totalPaid: number,
  available: number,
  pending: number,
  referrals: array
}

// Request withdrawal
POST /api/referrals/withdraw
Body: { amount: number, method: string, details: object }
Response: {
  withdrawalId: string,
  amount: number,
  status: string,
  estimatedProcessing: string
}
```

### Business Logic

```typescript
// Check referral eligibility
function canRefer(partner: Partner): boolean {
  const subscription = partner.currentSubscription;
  return subscription && 
         subscription.duration >= 3 && 
         subscription.status === 'active';
}

// Calculate bonus
function calculateBonus(tier: string, duration: number) {
  const prices = {
    starter_pro: 3000000,
    business_standard: 8000000,
    professional_plus: 18000000,
    enterprise_elite: 25000000
  };
  
  const basePrice = prices[tier] * duration;
  
  // Subscription discount
  let subscriptionDiscount = 0;
  if (duration === 3) subscriptionDiscount = 0.10;
  if (duration === 6) subscriptionDiscount = 0.20;
  if (duration === 12) subscriptionDiscount = 0.30;
  
  const finalPrice = basePrice * (1 - subscriptionDiscount);
  
  // Referrer bonus
  let bonusPercent = 0;
  if (duration === 3) bonusPercent = 0.10;
  if (duration === 6) bonusPercent = 0.15;
  if (duration === 12) bonusPercent = 0.25;
  
  const bonus = finalPrice * bonusPercent;
  
  return {
    basePrice,
    subscriptionDiscount: subscriptionDiscount * 100,
    finalPrice,
    bonusPercent: bonusPercent * 100,
    bonus
  };
}

// Process referral
async function processReferral(
  referrerId: string, 
  referredId: string, 
  subscriptionId: string
) {
  const subscription = await getSubscription(subscriptionId);
  
  if (subscription.duration === 1) {
    // No bonus for 1-month subscriptions
    return { bonus: 0, message: '1 oylik obuna uchun bonus yo\'q' };
  }
  
  const calc = calculateBonus(subscription.tier, subscription.duration);
  
  await createBonus({
    referrerId,
    referredId,
    subscriptionId,
    subscriptionAmount: calc.finalPrice,
    bonusPercent: calc.bonusPercent,
    bonusAmount: calc.bonus,
    status: 'pending'
  });
  
  return { 
    bonus: calc.bonus, 
    message: 'Bonus pending holatga o\'tdi' 
  };
}
```

---

## ðŸ“Š XULOSA

### Asosiy Xususiyatlar

| Xususiyat | Qiymat |
|-----------|--------|
| Bonus turi | Bir martalik |
| Tier tizimi | Yo'q |
| Minimum obuna | 3 oy |
| Bonus % | 10-25% |
| Referred chegirma | Faqat obuna chegirmasi |
| Qo'shimcha chegirma | Yo'q |
| Yillik xarajat | 1.85B so'm |
| Profit margin | 83% |

### Afzalliklar

âœ… **83% profit margin** (barqaror)
âœ… **90% kam xarajat** (vs eski)
âœ… **Oddiy va tushunarli** (tier yo'q)
âœ… **Yaxshi motivatsiya** (10-25% bonus)
âœ… **Sifatli referrallar** (3+ oy talab)
âœ… **Fair tizim** (barcha uchun bir xil)

### Optimal Balans

**Platform:** 83% margin, sustainable
**Referrer:** 10-25% bonus, motivating
**Referred:** 10-30% discount, attractive

---

**Versiya:** 7.0.0 (FINAL)  
**Status:** âœ… TAYYOR IMPLEMENT QILISHGA  
**Keyingi Qadam:** Database va API implementation

**Verdict:** Bu tizim optimal balans - yaxshi motivatsiya + barqaror biznes! ðŸŽ‰
